# å¤§æ¨¡å‹å®‰å…¨ä½“æ£€

## ç®€ä»‹

å¤§æ¨¡å‹å®‰å…¨ä½“æ£€æä¾›ç®€å•æ˜“ç”¨ã€é«˜æ•ˆå…¨é¢çš„å¤§æ¨¡å‹å®‰å…¨é£é™©æ£€æµ‹ï¼Œä¸€é”®å‘ç°å®‰å…¨é—®é¢˜ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆè¯†åˆ«å¹¶ä¿®å¤å®‰å…¨é£é™©ã€‚

å¹³å°å†…ç½®äº†ç”±æœ±é›€é€šè¿‡å¤§è§„æ¨¡æ•°æ®æ¸…æ´—ã€åˆæˆã€æ³›åŒ–ã€è¯­ä¹‰å»é‡è€Œæ¥çš„å…¸å‹é£é™©Promptä½œä¸ºè¾“å…¥ï¼Œæ”¯æŒç™¾ä½™ç§æ”»å‡»æ–¹æ³•å¯¹é£é™©Promptè¿›è¡ŒåŠ¨æ€å¢å¼ºã€‚å¼€å‘è€…æ—¢å¯ä»¥åŸºäºå†…ç½®çš„ã€ä½“æ£€é¡¹ç›®ã€å¯¹æ¨¡å‹è¿›è¡Œä½“æ£€ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©äºè‡ªå®šä¹‰è¯„æµ‹é›†åŠŸèƒ½ï¼Œåˆ©ç”¨æœ±é›€æä¾›çš„æ”»å‡»æ–¹æ³•å¯¹å†…éƒ¨é£é™©Prompt caseè¿›è¡Œè¿›ä¸€æ­¥æ³›åŒ–å¢å¼ºã€‚

## å¿«é€Ÿå¼€å§‹

### ä¸‰æ­¥å®Œæˆ
![å¤§æ¨¡å‹å®‰å…¨ä½“æ£€ä¸»ç•Œé¢](./assets/image-prompt-eval-openSource.png)
1. **é€‰æ‹©ä»»åŠ¡ç±»å‹**ï¼šç‚¹å‡»å¯¹è¯æ¡†ä¸‹æ–¹çš„"å¤§æ¨¡å‹å®‰å…¨ä½“æ£€"ã€‚
2. **é…ç½®æ¨¡å‹ã€æ•°æ®é›†ä¸æ”»å‡»æ–¹æ³•**ï¼š
   - é€‰æ‹©/é…ç½®æ‰“åˆ†æ¨¡å‹ï¼ˆè¯¦è§[å¤§æ¨¡å‹é…ç½®](#1-å¤§æ¨¡å‹é…ç½®)ï¼‰ã€‚
   - é€‰æ‹©/é…ç½®è¦æ£€æµ‹çš„æ¨¡å‹ï¼ˆè¯¦è§[å¤§æ¨¡å‹é…ç½®](#1-å¤§æ¨¡å‹é…ç½®)ï¼‰ã€‚
   - é€‰æ‹©å†…ç½®æ•°æ®é›†ï¼ˆè¯¦è§[æ•°æ®é›†é€‰æ‹©](#2-æ•°æ®é›†é€‰æ‹©)ï¼‰æˆ–ä¸Šä¼ è‡ªå®šä¹‰æ•°æ®é›†ï¼ˆè¯¦è§[è‡ªå®šä¹‰æ•°æ®é›†ç®¡ç†](#3-è‡ªå®šä¹‰æ•°æ®é›†ç®¡ç†)ï¼‰ã€‚
   - é€‰æ‹©æ”»å‡»æ–¹æ³•ï¼ˆè¯¦è§[æ”»å‡»æ–¹æ³•ä»‹ç»](#4-æ”»å‡»æ–¹æ³•ä»‹ç»)ï¼‰æˆ–ä»…ä»¥åŸå§‹Promptè¿›è¡Œæµ‹è¯•ã€‚
3. **å¯åŠ¨ä»»åŠ¡å¹¶æŸ¥çœ‹æŠ¥å‘Š**ï¼šç‚¹å‡»æŒ‰é’®ï¼Œç­‰å¾…ä»»åŠ¡å®ŒæˆåæŸ¥çœ‹è¯¦ç»†ç»“æœæŠ¥å‘Šã€‚

## è¯¦ç»†é…ç½®ä»‹ç»

### 1. å¤§æ¨¡å‹é…ç½®

- **æ”¯æŒçš„æ¨¡å‹ç±»å‹**ï¼šå…¼å®¹ OpenAI API æ ¼å¼çš„æ¨¡å‹
- **é…ç½®å‚æ•°**ï¼š
  - æ¨¡å‹åç§°ï¼Œä¾‹å¦‚ï¼š`openai/gpt-4o`
  - API åŸºç¡€ URLï¼Œä¾‹å¦‚ï¼š`https://openrouter.ai/api/v1`
  - API å¯†é’¥

### 2. æ•°æ®é›†é€‰æ‹©
- å†…ç½®ç²¾é€‰å®‰å…¨æµ‹è¯•æ•°æ®é›†ï¼Œè¦†ç›–é‡è¦å®‰å…¨åœºæ™¯ï¼›
- æ”¯æŒä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†ï¼ˆè¯¦è§[è‡ªå®šä¹‰æ•°æ®é›†ç®¡ç†](#3-è‡ªå®šä¹‰æ•°æ®é›†ç®¡ç†)ï¼‰ï¼›
- è‡ªåŠ¨é¢„ä¼°ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œä¾¿äºè§„åˆ’æµ‹è¯•ï¼›

![æ•°æ®é›†é€‰æ‹©](./assets/img-prompt-select-dataset-v1.0.png)

**ä½“æ£€æ‰§è¡Œï¼š**
- æ”¯æŒå•æ¨¡å‹æˆ–å¤šæ¨¡å‹å¹¶è¡Œä½“æ£€
- è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„å®‰å…¨è¯„åˆ†å’Œé£é™©æŠ¥å‘Š
- æä¾›æ¨¡å‹é—´å®‰å…¨æ€§èƒ½æ¨ªå‘å¯¹æ¯”åˆ†æ

**æŠ¥å‘Šå±•ç¤ºï¼š**
- å¯è§†åŒ–å±•ç¤ºä½“æ£€ç»“æœï¼ŒåŒ…æ‹¬æˆåŠŸ/å¤±è´¥ç‡ã€é£é™©åˆ†æç­‰
- æ¨¡å‹å®‰å…¨æ€§è¯„çº§ï¼šé«˜ã€ä¸­ã€ä½
- æ”¯æŒå…¨é‡æ•°æ®ç»“æœå¯¼å‡º

![æ¨¡å‹ä½“æ£€è¯¦æƒ…æŠ¥å‘Š](./assets/image-prompt-eval-report-case.png)


### 3. è‡ªå®šä¹‰æ•°æ®é›†ç®¡ç†

ç³»ç»Ÿæ”¯æŒä¸¤ç§æ–¹å¼ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†ï¼š

**ä¸´æ—¶ä¸Šä¼ ï¼š**
- åœ¨æ‰§è¡Œä½“æ£€ä»»åŠ¡æ—¶ä¸´æ—¶ä¸Šä¼ ï¼Œä»»åŠ¡å®Œæˆåä¸ä¿å­˜
- å…¼å®¹ä¸»æµæ ¼å¼ï¼ˆCSVã€JSONã€JSONLã€Excelã€Parquetã€TXTï¼‰
- è‡ªåŠ¨è¯†åˆ«å¸¸è§promptåˆ—åï¼ˆå¦‚promptã€questionã€queryã€textã€contentç­‰ï¼‰

> è¯´æ˜ï¼šæœªæ¥ç‰ˆæœ¬å°†æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰åˆ—åé…ç½®

**æ•°æ®é›†ç®¡ç†ï¼š**
- é€šè¿‡ç®¡ç†é¡µé¢æ°¸ä¹…ä¿å­˜åˆ°ç³»ç»Ÿï¼Œæ”¯æŒé‡å¤ä½¿ç”¨å’Œå…±äº«
- è¦æ±‚æ ‡å‡†JSONæ ¼å¼ï¼Œç¡®ä¿æ•°æ®è´¨é‡å’Œä¸€è‡´æ€§

![æ•°æ®é›†ç®¡ç†ç•Œé¢](./assets/image-prompt-eval-datasets.png)

> è¯´æ˜ï¼šæœªæ¥ç‰ˆæœ¬å°†æä¾›æ•°æ®é›†è´¨é‡è¯„ä¼°å’Œç”¨æˆ·è´¡çŒ®æ’è¡Œ


### 4. æ”»å‡»æ–¹æ³•ä»‹ç»

ç³»ç»Ÿå†…ç½®äº†ä¸°å¯Œçš„æ”»å‡»æ–¹æ³•åº“ï¼Œæ”¯æŒå¯¹é£é™©Promptè¿›è¡ŒåŠ¨æ€å¢å¼ºï¼Œå¸®åŠ©å¼€å‘è€…å…¨é¢æ£€æµ‹æ¨¡å‹çš„å®‰å…¨é˜²æŠ¤èƒ½åŠ›ã€‚å½“å‰ç‰ˆæœ¬æä¾›ä¸¤å¤§ç±»æ”»å‡»ç­–ç•¥ï¼Œå…±è®¡ç™¾ä½™ç§å…·ä½“æ”»å‡»æ–¹æ³•ã€‚

- **[ç¼–ç æ”»å‡»](/help?menu=prompt-eval_method_Encoding)**: ç¼–ç ç±»æ”»å‡»ç­–ç•¥é€šè¿‡å¤šç§ç¼–ç å’Œæ··æ·†æ–¹å¼åŠ å¯†é£é™©promptï¼Œä»¥ç»•è¿‡æ¨¡å‹çš„å®‰å…¨æŠ¤æ ã€‚
- **[è¡Œä¸ºæ§åˆ¶æ”»å‡»](/help?menu=prompt-eval_methpd_BehavioralControl)**: è¡Œä¸ºæ§åˆ¶ç±»æ”»å‡»ç­–ç•¥é€šè¿‡ä¸Šä¸‹æ–‡å¼•å¯¼ã€é‡å®šå‘æˆ–æ¬ºéª—ç­‰æ–¹å¼æ§åˆ¶æ¨¡å‹è¡Œä¸ºï¼Œç»•è¿‡å®‰å…¨é™åˆ¶ã€‚

![ç®—å­é…ç½®ç•Œé¢](./assets/image-prompt-eval-attack-method.png)

> è¿™äº›æ”»å‡»æ–¹æ³•å¯ä»¥å•ç‹¬ä½¿ç”¨æˆ–ç»„åˆä½¿ç”¨ï¼Œä¸ºå¼€å‘è€…æä¾›å…¨é¢çš„æ¨¡å‹å®‰å…¨æµ‹è¯•èƒ½åŠ›ã€‚å¹³å°ä¼šæŒç»­æ›´æ–°å’Œæ‰©å±•æ”»å‡»æ–¹æ³•åº“ï¼Œä»¥åº”å¯¹ä¸æ–­æ¼”è¿›çš„å®‰å…¨å¨èƒã€‚

## ğŸ™ è‡´è°¢ | Acknowledgements

æœ¬é¡¹ç›®çš„å¼€å‘ç¦»ä¸å¼€ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œç‰¹æ­¤è‡´è°¢ã€‚

### æ¡†æ¶æ”¯æŒ
æœ¬é¡¹ç›®åŸºäº **[Confident AI](http://www.confident-ai.com)** å›¢é˜Ÿçš„ **[DeepTeam](https://github.com/DeepTeam/DeepTeam)** é¡¹ç›®è¿›è¡Œæ„å»ºä¸æ·±åº¦å®šåˆ¶ã€‚
- **åŸé¡¹ç›®ä»“åº“**: [https://github.com/DeepTeam/DeepTeam](https://github.com/DeepTeam/DeepTeam)
- **åŸé¡¹ç›®è®¸å¯**: è¯·å‚è€ƒå…¶ä»“åº“ä¸‹çš„ `LICENSE` æ–‡ä»¶ã€‚
- **è¯´æ˜**: æˆ‘ä»¬ç”±è¡·æ„Ÿè°¢ Confident AI å›¢é˜Ÿæä¾›çš„å‡ºè‰²åŸºç¡€æ¡†æ¶ã€‚ä¸ºäº†ä½¿å…¶æ›´å¥½åœ°å…¼å®¹å¹¶æœåŠ¡äºæˆ‘ä»¬è‡ªèº«çš„ä¸šåŠ¡æ¶æ„å’Œç‰¹å®šéœ€æ±‚ï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œäº†å¤§é‡çš„ä¿®æ”¹ã€æ‰©å±•å’Œé‡æ„ï¼Œä»¥å®ç°`é’ˆå¯¹ **[AI-Infra-Guard](https://github.com/Tencent/AI-Infra-Guard)** çš„ç”Ÿæ€è¿›è¡Œäº†ä¸“é¡¹é€‚é…ä¸é›†æˆï¼Œå®ç°å¼€ç®±å³ç”¨çš„æ— ç¼å¯¹æ¥ã€‚

### æ”»å‡»ç®—å­è´¡çŒ®
æˆ‘ä»¬å‘ä¸ºæœ¬é¡¹ç›®ä½¿ç”¨çš„å„ç§æ”»å‡»æŠ€æœ¯å’Œç®—å­çš„å¼€å‘åšå‡ºè´¡çŒ®çš„ç ”ç©¶å›¢é˜Ÿå’Œç¤¾åŒºè¡¨ç¤ºè¯šæŒšçš„æ„Ÿè°¢ï¼š

| ç®—å­åç§° | æ¥æºå›¢é˜Ÿ | é“¾æ¥ |
|---------|--------|------|
| éƒ¨åˆ†å•è½®å’Œå¤šè½®ç®—å­ | Confident AI Inc. | [Github](https://github.com/DeepTeam/DeepTeam) |
| SequentialBreak | Saiemç­‰ | [Paper](https://arxiv.org/abs/2411.06426) |
| Best of N | Hughesç­‰ | [Paper](https://arxiv.org/abs/2412.03556) |
| ICRT Jailbreak | Yangç­‰ | [Paper](https://arxiv.org/abs/2505.02862) |
| Strata-Sword | Alibaba AAIG | [Paper](https://arxiv.org/abs/2509.01444) |
| PROMISQROUTE | Adversa AI | [Blog](https://adversa.ai/blog/promisqroute-gpt-5-ai-router-novel-vulnerability-class/) |

### æ•°æ®é›†è´¡çŒ®
æˆ‘ä»¬å‘ä¸ºæœ¬é¡¹ç›®ä½¿ç”¨çš„å„ç§æ•°æ®é›†åšå‡ºè´¡çŒ®çš„ç ”ç©¶å›¢é˜Ÿå’Œç¤¾åŒºè¡¨ç¤ºè¯šæŒšçš„æ„Ÿè°¢ï¼š
| æ•°æ®é›†åç§° | æ¥æºå›¢é˜Ÿ | é“¾æ¥ |
|-----------|---------|-----|
| JailBench | STAIR | [Github](https://github.com/STAIR-BUPT/JailBench)|
| redteam-deepseek | Promptfoo | [Github](https://github.com/promptfoo/promptfoo/blob/main/examples/redteam-deepseek/tests.csv) |
| ChatGPT-Jailbreak-Prompts | RubÃ©n DarÃ­o Jaramillo | [HuggingFace](https://huggingface.co/datasets/rubend18/ChatGPT-Jailbreak-Prompts) |
| JBB-Behaviors | Chaoç­‰ | [HuggingFace](https://huggingface.co/datasets/JailbreakBench/JBB-Behaviors) |
| JADE 3.0 | å¤æ—¦ç™½æ³½æ™ºèƒ½ | [Github](https://github.com/whitzard-ai/jade-db/tree/main/jade-db-v3.0) |
| JailbreakPrompts | Simon Knuts | [HuggingFace](https://huggingface.co/datasets/Simsonsun/JailbreakPrompts) |